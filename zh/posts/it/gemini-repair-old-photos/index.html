<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>用AI辅助修复旧照片 | Atom.X</title>
<meta name=keywords content="互联网,数学&计算机,AI"><meta name=description content="为了修复老照片，哪一款AI模型最强大？
Google、Microsoft、OpenAI等各大厂商的AI都是通用的大模型，虽然其本身并没有一个专门用于修复旧照片的功能，但它具备一些能力，可以结合其他工具和技术，来辅助完成修复旧照片的任务。
以Google Gemini 为例
Gemini 可以辅助的部分：


图像描述和分析: Gemini 可以对旧照片进行图像描述，识别照片中的问题，例如：

&ldquo;这张照片拍摄于 1950 年代，图像泛黄，有明显的划痕和污渍，人物面部细节模糊。&rdquo;
&ldquo;照片曝光过度，细节丢失严重，需要调整对比度和亮度。&rdquo;
&ldquo;照片背景模糊，主体人物清晰，但边缘有噪点。&rdquo;
这些描述可以帮助你更好地了解照片的问题，并制定修复策略。



文本提示生成: Gemini 可以根据照片的描述，生成更有效的文本提示词，用于图像修复工具（如 Stable Diffusion、Midjourney 等）。  例如：

照片描述: &ldquo;一张黑白旧照片，人物面部模糊，有轻微划痕。&rdquo;
Gemini 生成提示词: &ldquo;修复黑白照片，清晰人脸，去除轻微划痕，增强细节，高分辨率。&rdquo;
更好的提示词可以提高图像修复工具的修复质量。




Stability.ai
Github repo: Stability.ai



信息检索:  Gemini 可以用来搜索和学习图像修复相关的技术和教程，例如：

搜索 &ldquo;使用 Photoshop 修复旧照片教程&rdquo;
搜索 &ldquo;AI 图像修复工具测评&rdquo;
搜索 &ldquo;老照片修复算法&rdquo;



创意灵感:  Gemini 可以提供一些修复的创意灵感，例如：

如果照片缺失部分，Gemini 可以根据照片内容提供可能的场景补充建议。
如果照片颜色褪色，Gemini 可以提供颜色还原的参考方案。



需要配合使用的工具和技术：

图像处理软件 (Photoshop, GIMP):  手动修复照片的工具，可以进行色彩校正、修复划痕、去除污渍等。
AI 图像修复工具 (GFPGAN, Real-ESRGAN, Remini):  利用人工智能技术自动修复照片，可以增强图像分辨率、锐化边缘、还原人脸细节等。
图像增强算法:  例如双三次插值、 Lanczos 插值等，可以提升图像分辨率。
颜色还原技术:  例如使用参考图像或自动色彩校正算法，还原照片的色彩。

总结：
Gemini 并非一个“开箱即用”的老照片修复工具，但它可以作为你的助手，帮助你更好地分析照片、生成有效的提示词、学习修复技术、并提供创意灵感。 通过将 Gemini 与其他图像处理工具和技术结合使用，你可以更有效地修复旧照片，恢复它们昔日的风采。"><meta name=author content="Atom.X"><link rel=canonical href=https://atomx.cc/zh/posts/it/gemini-repair-old-photos/><meta name=google-site-verification content="XYZabc123"><meta name=yandex-verification content="XYZabc789"><meta name=msvalidate.01 content="XYZabc456"><link crossorigin=anonymous href=../../../../assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://atomx.cc/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://atomx.cc/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://atomx.cc/favicon-32x32.png><link rel=apple-touch-icon href=https://atomx.cc/apple-touch-icon.png><link rel=mask-icon href=https://atomx.cc/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://atomx.cc/zh/posts/it/gemini-repair-old-photos/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><meta property="og:url" content="https://atomx.cc/zh/posts/it/gemini-repair-old-photos/"><meta property="og:site_name" content="Atom.X"><meta property="og:title" content="用AI辅助修复旧照片"><meta property="og:description" content="为了修复老照片，哪一款AI模型最强大？
Google、Microsoft、OpenAI等各大厂商的AI都是通用的大模型，虽然其本身并没有一个专门用于修复旧照片的功能，但它具备一些能力，可以结合其他工具和技术，来辅助完成修复旧照片的任务。
以Google Gemini 为例 Gemini 可以辅助的部分： 图像描述和分析: Gemini 可以对旧照片进行图像描述，识别照片中的问题，例如：
“这张照片拍摄于 1950 年代，图像泛黄，有明显的划痕和污渍，人物面部细节模糊。” “照片曝光过度，细节丢失严重，需要调整对比度和亮度。” “照片背景模糊，主体人物清晰，但边缘有噪点。” 这些描述可以帮助你更好地了解照片的问题，并制定修复策略。 文本提示生成: Gemini 可以根据照片的描述，生成更有效的文本提示词，用于图像修复工具（如 Stable Diffusion、Midjourney 等）。 例如：
照片描述: “一张黑白旧照片，人物面部模糊，有轻微划痕。” Gemini 生成提示词: “修复黑白照片，清晰人脸，去除轻微划痕，增强细节，高分辨率。” 更好的提示词可以提高图像修复工具的修复质量。 Stability.ai Github repo: Stability.ai 信息检索: Gemini 可以用来搜索和学习图像修复相关的技术和教程，例如：
搜索 “使用 Photoshop 修复旧照片教程” 搜索 “AI 图像修复工具测评” 搜索 “老照片修复算法” 创意灵感: Gemini 可以提供一些修复的创意灵感，例如：
如果照片缺失部分，Gemini 可以根据照片内容提供可能的场景补充建议。 如果照片颜色褪色，Gemini 可以提供颜色还原的参考方案。 需要配合使用的工具和技术： 图像处理软件 (Photoshop, GIMP): 手动修复照片的工具，可以进行色彩校正、修复划痕、去除污渍等。 AI 图像修复工具 (GFPGAN, Real-ESRGAN, Remini): 利用人工智能技术自动修复照片，可以增强图像分辨率、锐化边缘、还原人脸细节等。 图像增强算法: 例如双三次插值、 Lanczos 插值等，可以提升图像分辨率。 颜色还原技术: 例如使用参考图像或自动色彩校正算法，还原照片的色彩。 总结： Gemini 并非一个“开箱即用”的老照片修复工具，但它可以作为你的助手，帮助你更好地分析照片、生成有效的提示词、学习修复技术、并提供创意灵感。 通过将 Gemini 与其他图像处理工具和技术结合使用，你可以更有效地修复旧照片，恢复它们昔日的风采。"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-02-25T00:00:00+00:00"><meta property="article:modified_time" content="2023-02-25T00:00:00+00:00"><meta property="article:tag" content="互联网"><meta property="article:tag" content="数学&计算机"><meta property="article:tag" content="AI"><meta property="og:image" content="https://atomx.cc/images/papermod-cover.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://atomx.cc/images/papermod-cover.png"><meta name=twitter:title content="用AI辅助修复旧照片"><meta name=twitter:description content="为了修复老照片，哪一款AI模型最强大？
Google、Microsoft、OpenAI等各大厂商的AI都是通用的大模型，虽然其本身并没有一个专门用于修复旧照片的功能，但它具备一些能力，可以结合其他工具和技术，来辅助完成修复旧照片的任务。
以Google Gemini 为例
Gemini 可以辅助的部分：


图像描述和分析: Gemini 可以对旧照片进行图像描述，识别照片中的问题，例如：

&ldquo;这张照片拍摄于 1950 年代，图像泛黄，有明显的划痕和污渍，人物面部细节模糊。&rdquo;
&ldquo;照片曝光过度，细节丢失严重，需要调整对比度和亮度。&rdquo;
&ldquo;照片背景模糊，主体人物清晰，但边缘有噪点。&rdquo;
这些描述可以帮助你更好地了解照片的问题，并制定修复策略。



文本提示生成: Gemini 可以根据照片的描述，生成更有效的文本提示词，用于图像修复工具（如 Stable Diffusion、Midjourney 等）。  例如：

照片描述: &ldquo;一张黑白旧照片，人物面部模糊，有轻微划痕。&rdquo;
Gemini 生成提示词: &ldquo;修复黑白照片，清晰人脸，去除轻微划痕，增强细节，高分辨率。&rdquo;
更好的提示词可以提高图像修复工具的修复质量。




Stability.ai
Github repo: Stability.ai



信息检索:  Gemini 可以用来搜索和学习图像修复相关的技术和教程，例如：

搜索 &ldquo;使用 Photoshop 修复旧照片教程&rdquo;
搜索 &ldquo;AI 图像修复工具测评&rdquo;
搜索 &ldquo;老照片修复算法&rdquo;



创意灵感:  Gemini 可以提供一些修复的创意灵感，例如：

如果照片缺失部分，Gemini 可以根据照片内容提供可能的场景补充建议。
如果照片颜色褪色，Gemini 可以提供颜色还原的参考方案。



需要配合使用的工具和技术：

图像处理软件 (Photoshop, GIMP):  手动修复照片的工具，可以进行色彩校正、修复划痕、去除污渍等。
AI 图像修复工具 (GFPGAN, Real-ESRGAN, Remini):  利用人工智能技术自动修复照片，可以增强图像分辨率、锐化边缘、还原人脸细节等。
图像增强算法:  例如双三次插值、 Lanczos 插值等，可以提升图像分辨率。
颜色还原技术:  例如使用参考图像或自动色彩校正算法，还原照片的色彩。

总结：
Gemini 并非一个“开箱即用”的老照片修复工具，但它可以作为你的助手，帮助你更好地分析照片、生成有效的提示词、学习修复技术、并提供创意灵感。 通过将 Gemini 与其他图像处理工具和技术结合使用，你可以更有效地修复旧照片，恢复它们昔日的风采。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://atomx.cc/zh/posts/"},{"@type":"ListItem","position":2,"name":"用AI辅助修复旧照片","item":"https://atomx.cc/zh/posts/it/gemini-repair-old-photos/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"用AI辅助修复旧照片","name":"用AI辅助修复旧照片","description":"为了修复老照片，哪一款AI模型最强大？\nGoogle、Microsoft、OpenAI等各大厂商的AI都是通用的大模型，虽然其本身并没有一个专门用于修复旧照片的功能，但它具备一些能力，可以结合其他工具和技术，来辅助完成修复旧照片的任务。\n以Google Gemini 为例 Gemini 可以辅助的部分： 图像描述和分析: Gemini 可以对旧照片进行图像描述，识别照片中的问题，例如：\n\u0026ldquo;这张照片拍摄于 1950 年代，图像泛黄，有明显的划痕和污渍，人物面部细节模糊。\u0026rdquo; \u0026ldquo;照片曝光过度，细节丢失严重，需要调整对比度和亮度。\u0026rdquo; \u0026ldquo;照片背景模糊，主体人物清晰，但边缘有噪点。\u0026rdquo; 这些描述可以帮助你更好地了解照片的问题，并制定修复策略。 文本提示生成: Gemini 可以根据照片的描述，生成更有效的文本提示词，用于图像修复工具（如 Stable Diffusion、Midjourney 等）。 例如：\n照片描述: \u0026ldquo;一张黑白旧照片，人物面部模糊，有轻微划痕。\u0026rdquo; Gemini 生成提示词: \u0026ldquo;修复黑白照片，清晰人脸，去除轻微划痕，增强细节，高分辨率。\u0026rdquo; 更好的提示词可以提高图像修复工具的修复质量。 Stability.ai Github repo: Stability.ai 信息检索: Gemini 可以用来搜索和学习图像修复相关的技术和教程，例如：\n搜索 \u0026ldquo;使用 Photoshop 修复旧照片教程\u0026rdquo; 搜索 \u0026ldquo;AI 图像修复工具测评\u0026rdquo; 搜索 \u0026ldquo;老照片修复算法\u0026rdquo; 创意灵感: Gemini 可以提供一些修复的创意灵感，例如：\n如果照片缺失部分，Gemini 可以根据照片内容提供可能的场景补充建议。 如果照片颜色褪色，Gemini 可以提供颜色还原的参考方案。 需要配合使用的工具和技术： 图像处理软件 (Photoshop, GIMP): 手动修复照片的工具，可以进行色彩校正、修复划痕、去除污渍等。 AI 图像修复工具 (GFPGAN, Real-ESRGAN, Remini): 利用人工智能技术自动修复照片，可以增强图像分辨率、锐化边缘、还原人脸细节等。 图像增强算法: 例如双三次插值、 Lanczos 插值等，可以提升图像分辨率。 颜色还原技术: 例如使用参考图像或自动色彩校正算法，还原照片的色彩。 总结： Gemini 并非一个“开箱即用”的老照片修复工具，但它可以作为你的助手，帮助你更好地分析照片、生成有效的提示词、学习修复技术、并提供创意灵感。 通过将 Gemini 与其他图像处理工具和技术结合使用，你可以更有效地修复旧照片，恢复它们昔日的风采。\n","keywords":["互联网","数学\u0026计算机","AI"],"articleBody":"为了修复老照片，哪一款AI模型最强大？\nGoogle、Microsoft、OpenAI等各大厂商的AI都是通用的大模型，虽然其本身并没有一个专门用于修复旧照片的功能，但它具备一些能力，可以结合其他工具和技术，来辅助完成修复旧照片的任务。\n以Google Gemini 为例 Gemini 可以辅助的部分： 图像描述和分析: Gemini 可以对旧照片进行图像描述，识别照片中的问题，例如：\n“这张照片拍摄于 1950 年代，图像泛黄，有明显的划痕和污渍，人物面部细节模糊。” “照片曝光过度，细节丢失严重，需要调整对比度和亮度。” “照片背景模糊，主体人物清晰，但边缘有噪点。” 这些描述可以帮助你更好地了解照片的问题，并制定修复策略。 文本提示生成: Gemini 可以根据照片的描述，生成更有效的文本提示词，用于图像修复工具（如 Stable Diffusion、Midjourney 等）。 例如：\n照片描述: “一张黑白旧照片，人物面部模糊，有轻微划痕。” Gemini 生成提示词: “修复黑白照片，清晰人脸，去除轻微划痕，增强细节，高分辨率。” 更好的提示词可以提高图像修复工具的修复质量。 Stability.ai Github repo: Stability.ai 信息检索: Gemini 可以用来搜索和学习图像修复相关的技术和教程，例如：\n搜索 “使用 Photoshop 修复旧照片教程” 搜索 “AI 图像修复工具测评” 搜索 “老照片修复算法” 创意灵感: Gemini 可以提供一些修复的创意灵感，例如：\n如果照片缺失部分，Gemini 可以根据照片内容提供可能的场景补充建议。 如果照片颜色褪色，Gemini 可以提供颜色还原的参考方案。 需要配合使用的工具和技术： 图像处理软件 (Photoshop, GIMP): 手动修复照片的工具，可以进行色彩校正、修复划痕、去除污渍等。 AI 图像修复工具 (GFPGAN, Real-ESRGAN, Remini): 利用人工智能技术自动修复照片，可以增强图像分辨率、锐化边缘、还原人脸细节等。 图像增强算法: 例如双三次插值、 Lanczos 插值等，可以提升图像分辨率。 颜色还原技术: 例如使用参考图像或自动色彩校正算法，还原照片的色彩。 总结： Gemini 并非一个“开箱即用”的老照片修复工具，但它可以作为你的助手，帮助你更好地分析照片、生成有效的提示词、学习修复技术、并提供创意灵感。 通过将 Gemini 与其他图像处理工具和技术结合使用，你可以更有效地修复旧照片，恢复它们昔日的风采。\n建议的修复流程:\n使用 Gemini 描述照片，识别问题。 使用 Gemini 生成文本提示词，用于 AI 图像修复工具。 使用 AI 图像修复工具进行初步修复。 使用图像处理软件手动调整细节，例如色彩校正、去除顽固污渍等。 使用 Gemini 搜索相关教程和信息，解决修复过程中遇到的问题。 Gemini Pro 1.5 Gemini 模型家族中，最适合修复老照片的模型很可能是 Gemini Pro 1.5，或者专门针对图像处理优化的变体。虽然 Google 官方没有明确声明某一款 Gemini 模型专为老照片修复而设计，但基于以下几点推断：\n强大的图像理解能力： Gemini Pro 1.5 具备先进的图像理解能力，能识别照片中的瑕疵、划痕、褪色等问题，这是修复老照片的基础。 高分辨率处理： 老照片修复往往需要处理高分辨率图像，以保留细节。 Gemini Pro 1.5 据报道支持处理大尺寸的上下文窗口（例如1百万个 token），这暗示了其处理高分辨率图像的能力。 生成能力： 修复老照片不仅需要识别问题，还需要生成缺失的细节或修复损坏的部分。 Gemini 模型擅长生成高质量的图像内容，使其能够填补老照片中的空白。 可微性渲染 (Differentiable Rendering): 一些研究表明，结合可微性渲染的技术可以显著提升老照片修复的效果。如果 Google 在 Gemini 模型中应用了类似的技术，将使其在老照片修复方面更具优势。 替代方案： Google Photos (谷歌相册): 虽然不是 Gemini 模型本身，但 Google Photos 的照片编辑功能（包括老照片修复）很可能使用了 Google 强大的 AI 技术，这些技术很可能与 Gemini 家族的模型有关。 重要提示：\n目前 Gemini 模型主要通过 Google AI Studio 和 Google Cloud Vertex AI 提供 API 访问。你需要具备一定的编程能力才能使用这些 API 进行老照片修复。 不同的 Gemini 模型变体可能在图像处理能力上有所差异。建议查阅 Google 官方文档或尝试不同的模型，以找到最适合你需求的模型。 虽然 Gemini 模型很强大，但老照片修复仍然是一项复杂的任务。修复效果可能受到照片质量、损坏程度等因素的影响。 总结：\n虽然没有明确的“最佳” Gemini 模型用于老照片修复，但 Gemini Pro 1.5 以及 Google Photos 背后的 AI 技术很可能是目前最强大的选择。建议尝试使用这些工具，并根据实际效果进行选择。\nGemini 1.5 pro 的分析成果 由于照片单个文件很大，超过20M，我们通过cloud storage \u003e buckets 来存放较大的文件。经过AI扫描分析后，它提供了以下的分析报告。\n这些黑白老照片存在以下问题：\n照片褪色和损坏: 照片已经褪色，并且有明显的磨损和划痕，这可能是由于时间和保存不当造成的。 清晰度不足: 照片的清晰度不足，细节难以辨认。这可能是由于照片本身的质量以及扫描或拍摄时的技术问题造成的。 对比度不足: 照片的对比度不足，导致图像细节难以区分。 灰尘和污点: 照片上存在灰尘和污点，影响了图像的观感。 裁剪不当: 照片的裁剪不当，导致图像比例失衡。 为了改善这些问题，可以尝试以下方法：\n修复照片: 使用图像处理软件修复照片的褪色、损坏和污点。 增强对比度: 提高照片的对比度，使细节更加清晰。 锐化图像: 锐化图像，改善照片的清晰度。 调整裁剪: 调整照片的裁剪，使图像比例更加协调。 去除灰尘和污点: 使用图像处理软件去除照片上的灰尘和污点。 通过以上方法，可以改善照片的质量，使其更加清晰、完整和美观。\n","wordCount":"213","inLanguage":"zh","image":"https://atomx.cc/images/papermod-cover.png","datePublished":"2023-02-25T00:00:00Z","dateModified":"2023-02-25T00:00:00Z","author":{"@type":"Person","name":"Atom.X"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://atomx.cc/zh/posts/it/gemini-repair-old-photos/"},"publisher":{"@type":"Organization","name":"Atom.X","logo":{"@type":"ImageObject","url":"https://atomx.cc/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://atomx.cc/zh/ accesskey=h title="Atom.X (Alt + H)">Atom.X</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://atomx.cc/ title=English aria-label=English>English</a></li><li><a href=https://atomx.cc/nl/ title=Nederlands aria-label=Nederlands>Nederlands</a></li></ul></div></div><ul id=menu><li><a href=https://atomx.cc/zh/about/ title=关于><span>关于</span></a></li><li><a href=https://atomx.cc/zh/archives/ title=归档><span>归档</span></a></li><li><a href=https://atomx.cc/zh/tags/ title=标签><span>标签</span></a></li><li><a href=https://atomx.cc/zh/categories/ title=分类><span>分类</span></a></li><li><a href=https://atomx.cc/zh/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://coolshell.in/zh/ title=酷壳众创><span>酷壳众创</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://atomx.cc/zh/>主页</a>&nbsp;»&nbsp;<a href=https://atomx.cc/zh/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">用AI辅助修复旧照片</h1><div class=post-meta><span>2023-2-25</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;Atom.X</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e4%bb%a5google-gemini-%e4%b8%ba%e4%be%8b aria-label="以Google Gemini 为例">以Google Gemini 为例</a><ul><li><a href=#gemini-%e5%8f%af%e4%bb%a5%e8%be%85%e5%8a%a9%e7%9a%84%e9%83%a8%e5%88%86 aria-label="Gemini 可以辅助的部分：">Gemini 可以辅助的部分：</a></li><li><a href=#%e9%9c%80%e8%a6%81%e9%85%8d%e5%90%88%e4%bd%bf%e7%94%a8%e7%9a%84%e5%b7%a5%e5%85%b7%e5%92%8c%e6%8a%80%e6%9c%af aria-label=需要配合使用的工具和技术：>需要配合使用的工具和技术：</a></li><li><a href=#%e6%80%bb%e7%bb%93 aria-label=总结：>总结：</a></li></ul></li><li><a href=#gemini-pro-15 aria-label="Gemini Pro 1.5">Gemini Pro 1.5</a><ul><li><a href=#%e6%9b%bf%e4%bb%a3%e6%96%b9%e6%a1%88 aria-label=替代方案：>替代方案：</a></li></ul></li><li><a href=#gemini-15-pro-%e7%9a%84%e5%88%86%e6%9e%90%e6%88%90%e6%9e%9c aria-label="Gemini 1.5 pro 的分析成果">Gemini 1.5 pro 的分析成果</a></li></ul></div></details></div><div class=post-content><p>为了修复老照片，哪一款AI模型最强大？</p><p>Google、Microsoft、OpenAI等各大厂商的AI都是通用的大模型，虽然其本身并没有一个<strong>专门</strong>用于修复旧照片的功能，但它具备一些能力，可以结合其他工具和技术，来辅助完成修复旧照片的任务。</p><h1 id=以google-gemini-为例>以Google Gemini 为例<a hidden class=anchor aria-hidden=true href=#以google-gemini-为例>#</a></h1><h2 id=gemini-可以辅助的部分><strong>Gemini 可以辅助的部分：</strong><a hidden class=anchor aria-hidden=true href=#gemini-可以辅助的部分>#</a></h2><ul><li><p><strong>图像描述和分析:</strong> Gemini 可以对旧照片进行图像描述，识别照片中的问题，例如：</p><ul><li>&ldquo;这张照片拍摄于 1950 年代，图像泛黄，有明显的划痕和污渍，人物面部细节模糊。&rdquo;</li><li>&ldquo;照片曝光过度，细节丢失严重，需要调整对比度和亮度。&rdquo;</li><li>&ldquo;照片背景模糊，主体人物清晰，但边缘有噪点。&rdquo;</li><li>这些描述可以帮助你更好地了解照片的问题，并制定修复策略。</li></ul></li><li><p><strong>文本提示生成:</strong> Gemini 可以根据照片的描述，生成更有效的文本提示词，用于图像修复工具（如 <a href=https://www.diffus.me>Stable Diffusion</a>、<a href=https://www.midjourney.com/>Midjourney</a> 等）。 例如：</p><ul><li>照片描述: &ldquo;一张黑白旧照片，人物面部模糊，有轻微划痕。&rdquo;</li><li>Gemini 生成提示词: &ldquo;修复黑白照片，清晰人脸，去除轻微划痕，增强细节，高分辨率。&rdquo;</li><li>更好的提示词可以提高图像修复工具的修复质量。</li></ul></li></ul><ul><li><a href=https://stability.ai/stable-image>Stability.ai</a></li><li><a href=https://github.com/Stability-AI/generative-models>Github repo: Stability.ai</a></li></ul><ul><li><p><strong>信息检索:</strong> Gemini 可以用来搜索和学习图像修复相关的技术和教程，例如：</p><ul><li>搜索 &ldquo;使用 Photoshop 修复旧照片教程&rdquo;</li><li>搜索 &ldquo;AI 图像修复工具测评&rdquo;</li><li>搜索 &ldquo;老照片修复算法&rdquo;</li></ul></li><li><p><strong>创意灵感:</strong> Gemini 可以提供一些修复的创意灵感，例如：</p><ul><li>如果照片缺失部分，Gemini 可以根据照片内容提供可能的场景补充建议。</li><li>如果照片颜色褪色，Gemini 可以提供颜色还原的参考方案。</li></ul></li></ul><h2 id=需要配合使用的工具和技术><strong>需要配合使用的工具和技术：</strong><a hidden class=anchor aria-hidden=true href=#需要配合使用的工具和技术>#</a></h2><ul><li><strong>图像处理软件 (Photoshop, GIMP):</strong> 手动修复照片的工具，可以进行色彩校正、修复划痕、去除污渍等。</li><li><strong>AI 图像修复工具 (GFPGAN, Real-ESRGAN, Remini):</strong> 利用人工智能技术自动修复照片，可以增强图像分辨率、锐化边缘、还原人脸细节等。</li><li><strong>图像增强算法:</strong> 例如双三次插值、 Lanczos 插值等，可以提升图像分辨率。</li><li><strong>颜色还原技术:</strong> 例如使用参考图像或自动色彩校正算法，还原照片的色彩。</li></ul><h2 id=总结><strong>总结：</strong><a hidden class=anchor aria-hidden=true href=#总结>#</a></h2><p>Gemini 并非一个“开箱即用”的老照片修复工具，但它可以作为你的助手，帮助你更好地分析照片、生成有效的提示词、学习修复技术、并提供创意灵感。 通过将 Gemini 与其他图像处理工具和技术结合使用，你可以更有效地修复旧照片，恢复它们昔日的风采。</p><p><strong>建议的修复流程:</strong></p><ol><li><strong>使用 Gemini 描述照片，识别问题。</strong></li><li><strong>使用 Gemini 生成文本提示词，用于 AI 图像修复工具。</strong></li><li><strong>使用 AI 图像修复工具进行初步修复。</strong></li><li><strong>使用图像处理软件手动调整细节，例如色彩校正、去除顽固污渍等。</strong></li><li><strong>使用 Gemini 搜索相关教程和信息，解决修复过程中遇到的问题。</strong></li></ol><h1 id=gemini-pro-15>Gemini Pro 1.5<a hidden class=anchor aria-hidden=true href=#gemini-pro-15>#</a></h1><p>Gemini 模型家族中，最适合修复老照片的模型很可能是 <strong>Gemini Pro 1.5</strong>，或者专门针对图像处理优化的变体。虽然 Google 官方没有明确声明某一款 Gemini 模型专为老照片修复而设计，但基于以下几点推断：</p><ul><li><strong>强大的图像理解能力：</strong> Gemini Pro 1.5 具备先进的图像理解能力，能识别照片中的瑕疵、划痕、褪色等问题，这是修复老照片的基础。</li><li><strong>高分辨率处理：</strong> 老照片修复往往需要处理高分辨率图像，以保留细节。 Gemini Pro 1.5 据报道支持处理大尺寸的上下文窗口（例如1百万个 token），这暗示了其处理高分辨率图像的能力。</li><li><strong>生成能力：</strong> 修复老照片不仅需要识别问题，还需要生成缺失的细节或修复损坏的部分。 Gemini 模型擅长生成高质量的图像内容，使其能够填补老照片中的空白。</li><li><strong>可微性渲染 (Differentiable Rendering):</strong> 一些研究表明，结合可微性渲染的技术可以显著提升老照片修复的效果。如果 Google 在 Gemini 模型中应用了类似的技术，将使其在老照片修复方面更具优势。</li></ul><h2 id=替代方案><strong>替代方案：</strong><a hidden class=anchor aria-hidden=true href=#替代方案>#</a></h2><ul><li><strong>Google Photos (谷歌相册):</strong> 虽然不是 Gemini 模型本身，但 Google Photos 的照片编辑功能（包括老照片修复）很可能使用了 Google 强大的 AI 技术，这些技术很可能与 Gemini 家族的模型有关。</li></ul><p><strong>重要提示：</strong></p><ul><li>目前 Gemini 模型主要通过 Google AI Studio 和 Google Cloud Vertex AI 提供 API 访问。你需要具备一定的编程能力才能使用这些 API 进行老照片修复。</li><li>不同的 Gemini 模型变体可能在图像处理能力上有所差异。建议查阅 Google 官方文档或尝试不同的模型，以找到最适合你需求的模型。</li><li>虽然 Gemini 模型很强大，但老照片修复仍然是一项复杂的任务。修复效果可能受到照片质量、损坏程度等因素的影响。</li></ul><p><strong>总结：</strong></p><p>虽然没有明确的“最佳” Gemini 模型用于老照片修复，但 Gemini Pro 1.5 以及 Google Photos 背后的 AI 技术很可能是目前最强大的选择。建议尝试使用这些工具，并根据实际效果进行选择。</p><h1 id=gemini-15-pro-的分析成果>Gemini 1.5 pro 的分析成果<a hidden class=anchor aria-hidden=true href=#gemini-15-pro-的分析成果>#</a></h1><p>由于照片单个文件很大，超过20M，我们通过cloud storage > buckets 来存放较大的文件。经过AI扫描分析后，它提供了以下的分析报告。</p><p>这些黑白老照片存在以下问题：</p><ul><li>照片褪色和损坏: 照片已经褪色，并且有明显的磨损和划痕，这可能是由于时间和保存不当造成的。</li><li>清晰度不足: 照片的清晰度不足，细节难以辨认。这可能是由于照片本身的质量以及扫描或拍摄时的技术问题造成的。</li><li>对比度不足: 照片的对比度不足，导致图像细节难以区分。</li><li>灰尘和污点: 照片上存在灰尘和污点，影响了图像的观感。</li><li>裁剪不当: 照片的裁剪不当，导致图像比例失衡。</li></ul><p>为了改善这些问题，可以尝试以下方法：</p><ul><li>修复照片: 使用图像处理软件修复照片的褪色、损坏和污点。</li><li>增强对比度: 提高照片的对比度，使细节更加清晰。</li><li>锐化图像: 锐化图像，改善照片的清晰度。</li><li>调整裁剪: 调整照片的裁剪，使图像比例更加协调。</li><li>去除灰尘和污点: 使用图像处理软件去除照片上的灰尘和污点。</li></ul><p>通过以上方法，可以改善照片的质量，使其更加清晰、完整和美观。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://atomx.cc/zh/tags/%E4%BA%92%E8%81%94%E7%BD%91/>互联网</a></li><li><a href=https://atomx.cc/zh/tags/%E6%95%B0%E5%AD%A6%E8%AE%A1%E7%AE%97%E6%9C%BA/>数学&计算机</a></li><li><a href=https://atomx.cc/zh/tags/ai/>AI</a></li></ul><nav class=paginav><a class=prev href=https://atomx.cc/zh/posts/god/memorial-our-best-friend-chen-hao/><span class=title>« 上一页</span><br><span>纪念左耳朵耗子：让我们继续协作奋进</span>
</a><a class=next href=https://atomx.cc/zh/posts/it/gcloud_env_vars/><span class=title>下一页 »</span><br><span>配置 gcloud 环境变量</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share 用AI辅助修复旧照片 on x" href="https://x.com/intent/tweet/?text=%e7%94%a8AI%e8%be%85%e5%8a%a9%e4%bf%ae%e5%a4%8d%e6%97%a7%e7%85%a7%e7%89%87&amp;url=https%3a%2f%2fatomx.cc%2fzh%2fposts%2fit%2fgemini-repair-old-photos%2f&amp;hashtags=%e4%ba%92%e8%81%94%e7%bd%91%2c%e6%95%b0%e5%ad%a6%26%e8%ae%a1%e7%ae%97%e6%9c%ba%2cAI"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 用AI辅助修复旧照片 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fatomx.cc%2fzh%2fposts%2fit%2fgemini-repair-old-photos%2f&amp;title=%e7%94%a8AI%e8%be%85%e5%8a%a9%e4%bf%ae%e5%a4%8d%e6%97%a7%e7%85%a7%e7%89%87&amp;summary=%e7%94%a8AI%e8%be%85%e5%8a%a9%e4%bf%ae%e5%a4%8d%e6%97%a7%e7%85%a7%e7%89%87&amp;source=https%3a%2f%2fatomx.cc%2fzh%2fposts%2fit%2fgemini-repair-old-photos%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 用AI辅助修复旧照片 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fatomx.cc%2fzh%2fposts%2fit%2fgemini-repair-old-photos%2f&title=%e7%94%a8AI%e8%be%85%e5%8a%a9%e4%bf%ae%e5%a4%8d%e6%97%a7%e7%85%a7%e7%89%87"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 用AI辅助修复旧照片 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fatomx.cc%2fzh%2fposts%2fit%2fgemini-repair-old-photos%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 用AI辅助修复旧照片 on whatsapp" href="https://api.whatsapp.com/send?text=%e7%94%a8AI%e8%be%85%e5%8a%a9%e4%bf%ae%e5%a4%8d%e6%97%a7%e7%85%a7%e7%89%87%20-%20https%3a%2f%2fatomx.cc%2fzh%2fposts%2fit%2fgemini-repair-old-photos%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 用AI辅助修复旧照片 on telegram" href="https://telegram.me/share/url?text=%e7%94%a8AI%e8%be%85%e5%8a%a9%e4%bf%ae%e5%a4%8d%e6%97%a7%e7%85%a7%e7%89%87&amp;url=https%3a%2f%2fatomx.cc%2fzh%2fposts%2fit%2fgemini-repair-old-photos%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 用AI辅助修复旧照片 on ycombinator" href="https://news.ycombinator.com/submitlink?t=%e7%94%a8AI%e8%be%85%e5%8a%a9%e4%bf%ae%e5%a4%8d%e6%97%a7%e7%85%a7%e7%89%87&u=https%3a%2f%2fatomx.cc%2fzh%2fposts%2fit%2fgemini-repair-old-photos%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>© <a href=https://atomx.cc>Atom.X</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>